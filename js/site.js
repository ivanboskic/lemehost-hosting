var site={user_id:null,bootstrap:function(){try{jQuery('[data-toggle=tooltip]').tooltip();jQuery('[data-toggle=popover]').popover({html:true});}catch(e){throw "Tooltip/popover error: "+e;}},pjax:function(){$(document).on('pjax:success',function(){site.bootstrap();});},modalClick:0,modalClose:0,modalShown:0,modalCounter:0,modalCheck:function(){$(document.body).on('shown.bs.modal',function(){site.modalCounter--;site.modalShown++;});$(document.body).on('hidden.bs.modal',function(){site.modalClose++;})
$(document.body).on("click","[data-toggle=modal]",function(){site.modalClick++;site.modalCounter++;setTimeout(function(){if(site.modalCounter>0){throw "Modal open failure. click="+site.modalClick+" shown="+site.modalShown+" close="+site.modalClose+" counter="+site.modalCounter;}},1000);});},ping:[],startPing:function(){var d=new Date();$.each(site.ping,function(ob,obj){var start=d.getMilliseconds();$.ajax({'url':obj['i'],'fail':function(){}}).fail(function(){console.log('d');var ms=d.getMilliseconds()-start;$("[data-ping="+obj['k']+"]").text(ms+" ms");});});},email:function(){var canvas=document.getElementById("email-canvas");if(!canvas)return;var ctx=canvas.getContext("2d");ctx.font="30px Arial";ctx.fillStyle="black";var text="";var textWidth=ctx.measureText(text).width;var textHeight=ctx.measureText("M").width;canvas.width=textWidth;canvas.height=textHeight+5;canvas.style.backgroundColor="#f5f5f5";canvas.style.paddingTop="5px";canvas.style.paddingBottom="5px";ctx.fillText(text,0,canvas.height-5);},unfilled:function(){var adElements=document.querySelectorAll('.adsbygoogle');for(var i=0;i<adElements.length;i++){var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.type==='attributes'&&mutation.attributeName==='data-ad-status'&&mutation.target.getAttribute('data-ad-status')==='unfilled'){$.ajax({type:'POST',url:'/zone/unfilled',data:{}});console.log('Ad unfilled!');}});});var options={attributes:true};observer.observe(adElements[i],options);}}};site.modalCheck();if("serviceWorker"in navigator){window.addEventListener("load",function(){navigator.serviceWorker.register("/serviceWorker.js?v=7").then(function(res){console.log("service worker registered");}).catch(function(err){console.log("service worker not registered",err)})})}
var checkout_session=$("[data-checkout_session]");if(checkout_session.length){var publishable_key=$("[data-publishable_key]").data("publishable_key");console.log('l',checkout_session.data("checkout_session"));var stripe=Stripe(publishable_key);stripe.redirectToCheckout({sessionId:checkout_session.data("checkout_session")})}
var messages_sent=[];window.onerror=function(message,url,line,column,errorObj){console.log('onerror detected');gtag('event','window.error');if(url.indexOf('chrome-extension')!==-1||url.indexOf('pagead2')!==-1)return;if(typeof message!=='string'){var new_error=message.error;var new_url=message.filename||message.fileName;var new_lineNumber=message.lineno||message.lineNumber;var new_colNumber=message.colno||message.columnNumber;var new_message=message.message||message.name||new_error.message||new_error.name;$.ajax({type:'POST',url:'/js/error',data:{"foo":":sos: Implement parameters above"}});window.troubleshoot(":sos: Implement parameters above");}else{var jsFile=(/[^/]+\.js/i.exec(url||'')||[])[0]||'inlineScriptOrDynamicEvalCode'
window.troubleshoot("New error detected `"+message+"` url=`"+url+"` line=`"+line+"` file="+jsFile);console.log('b');}
var ignore=['privateSpecialRepair','Script error.','adsbygoogle','e.composedPath','langDetector'];var ignore_error=false;ignore.forEach(function(search){if(message.indexOf(search)!==-1){ignore_error=true;}});if(ignore_error)return;if(messages_sent.indexOf(message)!==-1)return;var data={msg:message,url:url,line:line,diagnose:JSON.stringify(window.diagnose.slice(-100))};if(errorObj){data['errorObj']=JSON.stringify(errorObj);data['stack']=JSON.stringify(errorObj.stack);}else{data['errorObj']='not available';}
$.ajax({type:'POST',url:'/js/error',data:data});messages_sent.push(message);};jQuery(function($){$(document.body).on("click","[data-dismiss=alert]",function(){gtag('event','alert.dismiss');var id=$(this).data("id");if(!id)return;$.ajax({type:'POST',url:'/alert/hide?id='+id,});})
$(document.body).on("click","[data-trigger=like]",function(e){gtag('event','like.click');e.preventDefault();var self=$(this);$.ajax({url:self.attr("href"),success:function(data){self.find("[data-put=count]").html(data);}});});$(document.body).on("click",".ajax-button",function(e){e.preventDefault();var self=$(this);$.ajax({url:self.attr("href"),success:function(data){self.replaceWith(data);}});});site.bootstrap();site.pjax();if(typeof ClipboardJS!=='undefined'){var clipboard=new ClipboardJS('[data-clipboard-text]');clipboard.on('success',function(e){var data_key=e.trigger.getAttribute("data-key");var element=$("[data-key="+data_key+"]");var old_tooltip_text=element.data('original-title');element.removeClass("btn-default");element.addClass("btn-success");element.tooltip('hide').attr('data-original-title','Copied!').tooltip('fixTitle').tooltip('show');setTimeout(function(){element.removeClass("btn-success");element.addClass("btn-default");element.tooltip('hide').attr('data-original-title',old_tooltip_text).tooltip('fixTitle').tooltip('show');},1000*5);e.clearSelection();});}
$(document.body).on("click",".redirect-spinner",function(){$(this).html("<i class='fa fa-box-open fa-spin'></i>").addClass("disabled");});});if(typeof lazyload=='function')
lazyload();function test(){console.log(foo);}
function navigatorShare(){gtag('event','navigator.share.clicked');navigator.share({title:'Lemehost.com',text:document.title,url:window.location.href+(window.location.href.indexOf('?')!==-1?'&':'?')+"u="+site.user_id,}).then(function(){gtag('event','navigator.share.successful');}).catch(function(error){gtag('event','navigator.share.error.'+error);});}
var queryString=window.location.search;if(queryString&&(typeof queryString.includes)!='undefined'&&queryString.includes("?utm_source=pwa")){gtag('event','pwa.open');}else{}